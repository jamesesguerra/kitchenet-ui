<div class="max-w-65rem mx-auto">
    <div class="flex align-items-end justify-content-between">
        @if (isLoading$ | async) {
            <div class="xl:w-6">
                <p-skeleton height="2rem" width="10rem" styleClass="mb-2" />
                <p-skeleton height="1.5rem" width="20rem" styleClass="mb-2" />
            </div>
        } @else {
            <div>
                <h1 class="text-4xl mb-1 font">{{ collection.name }}</h1>
                <p class="">A collection of lunch recipes by <a href="">james.esg</a></p>
            </div>
        }

        <div>
            <div class="flex gap-2">
                <button pButton type="button" icon="pi pi-ellipsis-h" class="p-button-rounded p-button-text p-button-plain" (click)="menu.toggle($event)"></button>
                <p-menu #menu [popup]="true" [model]="menuItems"></p-menu>
           </div>
        </div>
    </div>

    <p-divider class="w-full bg-surface-200"></p-divider>
    
    <div class="grid mx-0 lg:-mx-3 px-0">
        @if (isLoading$ | async) {
            <div class="grid w-full">
                <div class="col-12 md:col-4">
                    <p-skeleton width="100%" height="20rem" />
                </div>
                <div class="col-12 md:col-4">
                    <p-skeleton width="100%" height="20rem" />
                </div>
                <div class="col-12 md:col-4">
                    <p-skeleton width="100%" height="20rem" />
                </div>
            </div>

        } @else {
            @if (collection.recipes.length == 0) {
                <div class="flex justify-content-center col-12 mt-2">
                    No recipes to show.
                </div>
            }

            @for(recipe of collection.recipes; track recipe.id) {
                <div class="col-12 px-0 md:px-3 md:col-4 mt-10">
                    <p-card [header]="recipe.name" [subheader]="recipe.description">
                        <ng-template pTemplate="header">
                            <img [src]="recipe.coverPicture" />
                        </ng-template>
                    </p-card>
                </div>
            }
        }
    </div>
</div>

<p-confirmDialog />